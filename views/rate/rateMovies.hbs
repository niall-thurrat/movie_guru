<form action="">
  <div class="p-1 bg-light rounded rounded-pill shadow-sm mb-4">
    <div class="input-group">
      <input type="search" placeholder="Search for movies with keywords" aria-describedby="button-addon1"
        class="form-control border-0 bg-light" name="search">
      <div class="input-group-append">
        <button id="button-addon1" type="submit" class="btn btn-link text-primary">
          <i class="fa fa-search"></i></button>
      </div>
    </div>
  </div>
</form><br>

<div class="card">
  <div class="card-body">
    <h4 class="card-title">A-Z Movie Search</h4>
    <p class="card-text">
      Gets movies by first letter <br>
       {{#each locals.alphabet}}
        <form action="/rate-movies" class="inline-form">
          <input type="submit" value="{{this}}" />
          <input type="hidden" name="a-z" value="{{this}}">
        </form>
      {{/each}}
    </p>
  </div>
</div><br>

{{#if locals.keywords}}
<h1><span class="far fa-list-alt"></span>
    Search Results</h1>

<h6>Keywords: 
  {{#each locals.keywords}}
    {{this}} 
  {{/each}}</h6>

<h6>Result count: 
  {{#if locals.data.length}} {{locals.data.length}}
  {{else}} 0 
  {{/if}}</h6>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Title</th>
            <th>Year</th>
            <th>Average Rating</th>
            <th>My Rating</th>
        </tr>
    </thead>
    <tbody>
        {{#if locals.data.length }}
        {{#each locals.data}}
        <tr>
            <td><a href="/rate-movies/{{this.ID}}">{{this.title}}</a></td>
            <td>{{this.year}}</td>
            <td>{{this.avg_rating}}</td>
            <td>{{this.my_rating}}</td>
        </tr>
        {{/each}}
        {{else}}
        <tr>
            <td colspan="3" class="text-center text-danger">
                No movies to display.
            </td>
        </tr>
        {{/if}}
    </tbody>
</table><br>
{{else if locals.index}}
  <h1><span class="far fa-list-alt"></span>
    Movies beginning with {{locals.index}}</h1>

<h6>Result count: 
  {{#if locals.data.length}} {{locals.data.length}}
  {{else}} 0 
  {{/if}}</h6>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Title</th>
            <th>Year</th>
            <th>Length</th>
            <th>Certificate</th>
            <th>Average rating</th>
            <th>My rating</th>
        </tr>
    </thead>
    <tbody>
        {{#if locals.data.length }}
        {{#each locals.data}}
        <tr>
            <td><a href="/rate-movies/{{this.ID}}">{{this.title}}</a></td>
            <td>{{this.year}}</td>
            <td>{{this.length}}</td>
            <td>{{this.certificate}}</td>
            <td>{{this.average_rating}}</td>
            <td>{{this.my_rating}}</td>
        </tr>
        {{/each}}
        {{else}}
        <tr>
            <td colspan="6" class="text-center text-danger">
                No movies to display.
            </td>
        </tr>
        {{/if}}
    </tbody>
</table><br>
{{/if}}
